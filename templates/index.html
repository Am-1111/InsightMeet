<!DOCTYPE html>
<html>
<head>
  <title>InsightMeet</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<div class="app">
  <h1>ðŸŽ™ InsightMeet</h1>
  <p class="subtitle">AI-powered Meeting Intelligence</p>

  <input type="file" id="audioFile">
  <button onclick="startProcess()">ðŸš€ Process Meeting</button>

  <div class="status-box">
    Status: <span id="statusText">Idle</span>
  </div>
</div>

<script>
async function startProcess() {
  const fileInput = document.getElementById("audioFile");
  if (!fileInput.files.length) {
    alert("Please select an audio file");
    return;
  }

  const formData = new FormData();
  formData.append("file", fileInput.files[0]);

  document.getElementById("statusText").innerText = "Uploading...";

  fetch("/process", {
    method: "POST",
    body: formData
  });

  const interval = setInterval(async () => {
    const res = await fetch("/status");
    const data = await res.json();
    document.getElementById("statusText").innerText = data.message;

    if (data.message === "Done") {
      clearInterval(interval);
    }
  }, 1000);
}
</script>

</body>
</html>
